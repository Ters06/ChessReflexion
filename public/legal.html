<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Dojo Mental - Mentions Légales</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet" />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
    </style>
  </head>
  <body class="bg-slate-900 text-white antialiased">
    <div class="min-h-screen flex flex-col">
      <header
        class="bg-slate-800/50 backdrop-blur-sm border-b border-slate-700 p-4">
        <nav class="container mx-auto flex justify-between items-center">
          <a
            href="/app.html"
            class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-violet-500">
            Dojo Mental
          </a>
          <!-- L'en-tête s'adaptera en fonction de l'état de connexion de l'utilisateur -->
          <div
            id="user-info-header"
            class="flex items-center gap-4"
            style="display: none">
            <span id="user-name-header" class="text-slate-300"></span>
            <a
              href="/.netlify/functions/logout"
              class="bg-red-500/20 text-red-300 font-semibold py-2 px-4 rounded-lg hover:bg-red-500/40 transition">
              Déconnexion
            </a>
          </div>
          <a
            id="login-link-header"
            href="/"
            class="font-semibold text-slate-300 hover:text-cyan-400 transition"
            style="display: none"
            >Se connecter</a
          >
        </nav>
      </header>

      <main class="flex-grow container mx-auto p-4 sm:p-6 lg:p-8">
        <div class="max-w-3xl mx-auto">
          <h1 class="text-4xl font-extrabold text-slate-200 mb-8">
            Mentions Légales & Politique de Confidentialité
          </h1>

          <div
            class="prose prose-invert prose-lg max-w-none text-slate-300 space-y-8">
            <section>
              <h2 class="text-2xl font-bold text-cyan-400">Mentions Légales</h2>
              <p>
                Conformément aux dispositions de la loi n° 2004-575 du 21 juin
                2004 pour la confiance en l'économie numérique, il est précisé
                aux utilisateurs du site Dojo Mental l'identité des différents
                intervenants dans le cadre de sa réalisation et de son suivi.
              </p>
              <p>
                <strong>Édition du site :</strong> Le présent site, accessible à
                l’URL https://chessdojo.netlify.app, est édité par : Terence
                Leclercq, résidant en Belgique.
              </p>
              <p>
                <strong>Hébergement :</strong> Le site est hébergé par la
                société Netlify, Inc., située 2325 3rd Street, Suite 296, San
                Francisco, California 94107.
              </p>
              <p>
                <strong>Directeur de publication :</strong> Le Directeur de la
                publication du site est Terence Leclercq.
              </p>
              <p>
                <strong>Nous contacter :</strong> Par email à
                leclercq.terence@gmail.com.
              </p>
            </section>

            <section>
              <h2 class="text-2xl font-bold text-cyan-400">
                Politique de Confidentialité (RGPD)
              </h2>
              <p>
                La présente politique de confidentialité définit et vous informe
                de la manière dont Dojo Mental utilise et protège les
                informations que vous nous transmettez, le cas échéant, lorsque
                vous utilisez le présent site.
              </p>
              <h3 class="text-xl font-bold text-slate-200">
                1. Données collectées
              </h3>
              <p>
                Nous collectons les données suivantes lorsque vous vous
                authentifiez via le service tiers Google :
              </p>
              <ul>
                <li>Votre nom public</li>
                <li>Votre adresse e-mail</li>
                <li>Votre identifiant unique Google</li>
              </ul>
              <p>
                En plus de ces informations, nous stockons les données que vous
                créez au sein de l'application, à savoir les parties d'échecs
                que vous enregistrez (au format PGN) et les réflexions associées
                à ces parties.
              </p>

              <h3 class="text-xl font-bold text-slate-200">
                2. Finalité du traitement
              </h3>
              <p>
                Les données collectées ont pour unique finalité de vous fournir
                le service proposé par Dojo Mental, à savoir :
              </p>
              <ul>
                <li>Vous authentifier et gérer votre session.</li>
                <li>
                  Sauvegarder et vous restituer vos parties d'échecs et vos
                  analyses.
                </li>
              </ul>

              <h3 class="text-xl font-bold text-slate-200">
                3. Durée de conservation
              </h3>
              <p>
                Vos données sont conservées tant que votre compte est actif.
                Elles sont intégralement et définitivement supprimées lors de la
                suppression de votre compte.
              </p>

              <h3 class="text-xl font-bold text-slate-200">4. Vos droits</h3>
              <p>
                Conformément au Règlement Général sur la Protection des Données
                (RGPD), vous disposez des droits suivants :
              </p>
              <ul>
                <li>
                  <strong>Droit d’accès et de rectification :</strong> Vous
                  pouvez accéder à vos données (nom, email) et les modifier via
                  votre compte Google.
                </li>
                <li>
                  <strong>Droit à l’effacement :</strong> Vous pouvez à tout
                  moment supprimer l'intégralité de votre compte et de vos
                  données associées (parties, réflexions) via la page "Profil"
                  de l'application. Cette action est irréversible.
                </li>
              </ul>
              <p>
                Pour toute question relative à la protection de vos données
                personnelles, vous pouvez nous contacter à l'adresse e-mail
                mentionnée dans les mentions légales.
              </p>
            </section>
          </div>
        </div>
      </main>

      <footer id="footer-container" class="w-full p-4">
        <!-- Le footer sera injecté ici par main.js -->
      </footer>
    </div>

    <script src="/js/main.js"></script>
    <script>
      // Ce script n'est pas une barrière de sécurité.
      // Il sert uniquement à améliorer l'interface de l'en-tête pour les utilisateurs connectés ou non.
      // La page reste accessible à tout le monde, que le script fonctionne ou non.
      document.addEventListener("DOMContentLoaded", () => {
        const token = localStorage.getItem("jwt_token");
        const userData = JSON.parse(localStorage.getItem("userData"));
        const userInfoHeader = document.getElementById("user-info-header");
        const loginLinkHeader = document.getElementById("login-link-header");

        if (token && userData) {
          // Si l'utilisateur est connecté, on affiche son nom et le bouton de déconnexion.
          document.getElementById("user-name-header").textContent =
            userData.name;
          userInfoHeader.style.display = "flex";
          loginLinkHeader.style.display = "none";
        } else {
          // Sinon, on affiche le bouton pour se connecter.
          userInfoHeader.style.display = "none";
          loginLinkHeader.style.display = "block";
        }
      });
    </script>
  </body>
</html>
